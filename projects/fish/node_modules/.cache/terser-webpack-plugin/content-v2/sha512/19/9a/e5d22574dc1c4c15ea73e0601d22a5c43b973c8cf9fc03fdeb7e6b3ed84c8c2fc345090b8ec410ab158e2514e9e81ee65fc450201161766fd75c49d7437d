{"code":"!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=0)}([function(t,e,i){\"use strict\";i.r(e);var s=function(t){const e=document.getElementById(t),i={lat:59.943007,lng:30.440411},s=new XMLHttpRequest,n=document.createElement(\"div\");let a;e.append(n);const o=()=>{console.log(\"animate\");let t=null,e=null,i=null,s=0;n.innerHTML='\\n\\t\\t\\t<div class=\"animate\">\\n\\t\\t\\t\\t<div></div>\\n\\t\\t\\t\\t<div></div>\\n\\t\\t\\t\\t<div></div>\\n\\t\\t\\t\\t<div></div>\\n\\t\\t\\t</div>\\n\\t\\t',console.log(n),console.log(document.querySelector(\".animate\"));const o=document.querySelector(\".animate\").querySelectorAll(\"div\");n.querySelector(\".animate\").style.cssText=\"\\n\\t\\t\\twidth: 40px;\\n\\t\\t\\theight: 40px;\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tflex-wrap: wrap;\\n\\t\\t\\tmargin: auto;\\n\\t\\t\",o[2].style.order=1,[...o].forEach(t=>{t.style.cssText=\"\\n\\t\\t\\t\\twidth: 20px;\\n\\t\\t\\t\\theight: 20px;\\n\\t\\t\\t\\tbackground: #000;\\n\\t\\t\\t\\tdisplay: inline-block;\\n\\t\\t\\t\\topacity: 0.1;\\n\\t\\t\\t\\tmargin: 0;\\n\\t\\t\\t\"});const l=n=>{if(t||(t=n),n-t>=100){if(o[s].style.opacity=1,e&&(e.style.opacity=.5),i&&(i.style.opacity=0),i=e,e=o[s],3===s)return s=0,t=n,void(a=requestAnimationFrame(l));s++,t=n}a=requestAnimationFrame(l)};a=requestAnimationFrame(l)};a=requestAnimationFrame(o),s.addEventListener(\"readystatechange\",()=>{if(4===s.readyState)return void cancelAnimationFrame(a);let t;const e=s.response;t=new google.maps.Map(document.getElementById(\"map\"),{center:i,zoom:17,zoomControl:!1,scaleControl:!1,fullscreenControl:!1,streetViewControl:!1,mapTypeControl:!1,styles:e});const n=new google.maps.InfoWindow({content:'  \\n\\t\\t<div class=\"overlay\" id=\"content\"><p class=\"overlay__text\">Санкт-Петербург, ул.Якорная д.17, к.3, оф.19</p></div>\\n\\t',maxWidth:341}),o=new google.maps.Marker({position:i,map:t,icon:\"../img/marker.png\"});n.open(t,o)}),o(),s.open(\"GET\",\"../json/map.json\"),s.setRequestHeader(\"Content-type\",\"application/json\"),s.send()};var n=class{constructor(t,e,i,s){this.navName=document.querySelector(t),this.list=document.querySelector(e),this.items=document.querySelectorAll(i),this.menu=document.querySelector(s),this.listSelector=e,this.navListName=t}show(t){const e=t.target;this.items[0]&&(console.log(this),this.items.forEach(t=>{t.style.display=\"none\"})),(e.closest(this.navListName)||e.closest(this.listSelector)&&this.list.matches(\".d-none\"))&&(this.list.classList.remove(\"d-none\"),this.navName.classList.add(\"list-name_active\"))}hide(){this.navName.matches(\".list-name_active\")&&(this.list.classList.add(\"d-none\"),this.navName.classList.remove(\"list-name_active\"))}init(){this.menu&&document.documentElement.clientWidth>768?(this.menu.addEventListener(\"mouseover\",this.show.bind(this)),this.list.addEventListener(\"mouseout\",this.hide.bind(this))):this.navName.addEventListener(\"click\",this.show.bind(this))}};var a=class{constructor(t,e,i=0){this.slides=document.querySelectorAll(t),this.pagination=document.querySelector(e),this.timeout=i,this.paginationSelector=e,this.slideSelector=t}sliderView(){this.slides.forEach(()=>{this.pagination.insertAdjacentHTML(\"afterbegin\",`\\n\\t\\t\\t\\t<span class=\"${this.paginationSelector.slice(1)}__bullet\"></span>\\n\\t\\t\\t`)}),this.bullets=document.querySelectorAll(this.paginationSelector+\"__bullet\"),this.bullets[0].classList.add(this.paginationSelector.slice(1)+\"__bullet_active\"),this.slides[0].classList.add(this.slideSelector.slice(1)+\"_active\")}nextSlide(t){const e=t.target;e.classList.matches(this.paginationSelector+\"__bullet\")&&(this.bullets.forEach((t,i)=>{t.classList.remove(this.paginationSelector.slice(1)+\"__bullet_active\"),this.slides[i].classList.remove(this.slideSelector.slice(1)+\"_active\"),e===t&&this.slides[i].classList.add(this.slideSelector.slice(1)+\"_active\")}),e.classList.add(this.paginationSelector.slice(1)+\"__bullet_active\"))}animate(){let t,e;const i=s=>{if(e||(e=s),s-e>=this.timeout){e=s;for(let t=0;t<this.bullets.length;t++)if(this.bullets[t].matches(this.paginationSelector+\"__bullet_active\")){if(this.bullets[t].classList.remove(this.paginationSelector.slice(1)+\"__bullet_active\"),this.slides[t].classList.remove(this.slideSelector.slice(1)+\"_active\"),t+1===this.bullets.length){this.bullets[0].classList.add(this.paginationSelector.slice(1)+\"__bullet_active\"),this.slides[0].classList.add(this.slideSelector.slice(1)+\"_active\");break}this.bullets[t+1].classList.add(this.paginationSelector.slice(1)+\"__bullet_active\"),this.slides[t+1].classList.add(this.slideSelector.slice(1)+\"_active\");break}}t=requestAnimationFrame(i)};this.pagination.addEventListener(\"mouseout\",()=>{t=requestAnimationFrame(i)}),this.pagination.addEventListener(\"mouseover\",()=>{cancelAnimationFrame(t)}),t=requestAnimationFrame(i)}init(){this.sliderView(),this.pagination.addEventListener(\"click\",this.nextSlide.bind(this)),this.timeout&&this.animate()}};var o=(t,e,i,s,n)=>{const a=document.querySelector(\".\"+t),o=document.querySelector(i),l=document.querySelector(\".\"+e),r=document.querySelector(n),c=document.querySelectorAll(s),d=()=>{o.classList.toggle(\"menu_active\"),a.classList.toggle(t+\"_active\"),l.classList.toggle(e+\"_active\"),c&&!o.matches(\".menu_active\")&&(r.classList.add(\"d-none\"),c.forEach(t=>{t.style.display=\"\"}))};l.addEventListener(\"click\",t=>{t.target.closest(s)&&t.target.closest(s)!==l.firstElementChild&&(t.preventDefault(),d())}),a.addEventListener(\"click\",d),window.addEventListener(\"resize\",()=>{document.documentElement.clientWidth>768&&o.matches(\".menu_active\")&&d()})};var l=(t,e,i)=>{if(document.documentElement.clientWidth>768)return;const s=document.querySelector(t),n=document.querySelector(e),a=document.querySelector(i);s.addEventListener(\"click\",t=>{t.preventDefault(),n.matches(\".active\")||(n.classList.add(\"active\"),n.style.cssText=\"\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\tright: 0;\\n\\t\\t\\t\\tbackground: #fff;\\n\\t\\t\\t\\twidth: 80%;\\n\\t\\t\\t\",(()=>{let t,e,i=0;const s=n=>{e||(e=n),100!==i&&(n-e>=3&&(i++,e=n,a.style.width=i+\"%\"),t=requestAnimationFrame(s))};t=requestAnimationFrame(s)})(),a.focus())}),a.addEventListener(\"blur\",()=>{n.classList.remove(\"active\"),n.style.cssText=\"\",a.style.width=\"\"})};var r=()=>{document.addEventListener(\"click\",t=>{const e=t.target.closest(\"a\");if(!e||e.attributes.href.nodeValue&&\"#\"!==e.attributes.href.nodeValue.charAt(0))return;t.preventDefault();const i=e.hash?document.querySelector(e.hash):0,s=i?i.offsetTop:0;let n;const a=()=>{if(Math.abs(document.documentElement.scrollTop-s)<=50)document.documentElement.scrollTop=s;else{if(document.documentElement.scrollTop<s){if(document.documentElement.scrollHeight-document.documentElement.scrollTop===document.documentElement.clientHeight)return void(document.documentElement.scrollTop=s);document.documentElement.scrollTop+=50,n=requestAnimationFrame(a)}document.documentElement.scrollTop>s&&(document.documentElement.scrollTop-=50,n=requestAnimationFrame(a))}};n=requestAnimationFrame(a)})};var c=class{constructor(t){this.blocks=[],this.idBlock=t}init(){this.idBlock.forEach(t=>{this.blocks.push(document.getElementById(t))}),document.addEventListener(\"click\",t=>{const e=t.target.closest(\"a\");this.blocks.forEach(t=>{e.attributes.href&&e.attributes.href.nodeValue===\"#\"+t.id?t.classList.add(\"active\"):t.style.display=\"none\"})})}};var d=class{constructor(t,e){this.input=document.querySelector(t),this.reg=e||{regMail:/\\w+@\\w+\\.\\w{2,7}/g},this.message=document.createElement(\"span\")}init(){this.input.addEventListener(\"change\",()=>{const t=this.input.value;this.message.style.cssText=\"\\n\\t\\t\\t\\tcolor: #ff0000;\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\tbottom: -20px;\\n\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t\\tleft: 50%;\\n\\t\\t\\t\\ttransform: translateX(-50%);\\n\\t\\t\\t\\ttext-align: center;\\n\\t\\t\\t\",t.match(this.reg.regMail)&&t.match(this.reg.regMail)[0]===t?(this.input.style.borderColor=\"#00ff00\",this.message.textContent=\"\"):(this.input.style.borderColor=\"#ff0000\",this.message.textContent=\"введите email вида mail@mail.ru\",this.input.parentNode.append(this.message))})}};var u=class{constructor(t,e){this.wrapper=document.querySelector(t),this.items=document.querySelectorAll(e),this.arr=[]}itemArrAdd(){this.arr=[];let t=[];for(let e=0;e<this.items.length;e++)t.push(this.items[e]),(e+1)%4==0&&(this.arr.push([...t]),t=[]);t[0]&&this.arr.push(t)}showHide(){this.items.forEach(t=>{t.style.display=\"\"}),this.cardActive=document.querySelectorAll(\".card_active\"),this.cardActive[0]&&this.cardActive.forEach(t=>t.classList.remove(\"card_active\"));for(let t=0;t<this.paginationNumbers.length;t++)if(this.paginationNumbers[t].matches(\".number_active\")){this.arr[t].forEach(t=>t.classList.add(\"card_active\"));break}}genPagination(){const t=document.createElement(\"div\");t.classList.add(\"blog__pagination\"),this.wrapper.append(t);for(let e=1;e<=Math.ceil(this.items.length/4);e++)t.insertAdjacentHTML(\"beforeend\",`\\n\\t\\t\\t\\t<span class=\"pagination__number\">${e}</span>\\n\\t\\t\\t`);this.paginationNumbers=document.querySelectorAll(\".pagination__number\"),this.paginationNumbers[0].classList.add(\"number_active\"),this.wrapper.addEventListener(\"click\",t=>{const e=t.target;e.matches(\".pagination__number\")&&!e.matches(\".number_active\")&&(document.querySelector(\".number_active\").classList.remove(\"number_active\"),e.classList.add(\"number_active\"),this.showHide())})}init(){this.items.length>4&&(this.genPagination(),this.itemArrAdd(),this.showHide())}};window.addEventListener(\"DOMContentLoaded\",(function(){s(\"map\"),new n(\".nav__list-name\",\".nav__list\",null,\".menu_main\").init(),new n(\".burger__list-name\",\".burger__list\",\".burger__item\").init(),new a(\".slider__slide\",\".pagination\",1e3).init(),o(\"burger-button\",\"menu__burger\",\".menu_main\",\".burger__item\",\".burger__list\"),l(\".form__button\",\".menu__form\",\".form__search\"),r(),new d(\".callback__item\").init(),document.querySelectorAll(\".blog__card\").forEach((t,e)=>{e>5&&(t.style.display=\"none\")}),document.addEventListener(\"click\",t=>{if(\"#blog\"===t.target.closest(\"a\").attributes.href.nodeValue){new u(\".blog__cards\",\".blog__card\").init()}}),new c([\"blog\",\"services\"]).init()}))}]);","extractedComments":[]}